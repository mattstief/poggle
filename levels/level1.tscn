[gd_scene load_steps=19 format=2]

[ext_resource path="res://scripts/level.gd" type="Script" id=1]
[ext_resource path="res://prefabs/gun.tscn" type="PackedScene" id=2]
[ext_resource path="res://scripts/resizer.gd" type="Script" id=3]
[ext_resource path="res://prefabs/wall.tscn" type="PackedScene" id=4]
[ext_resource path="res://prefabs/blue_peg.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/pegs.gd" type="Script" id=6]
[ext_resource path="res://prefabs/aligned_node_container.tscn" type="PackedScene" id=7]
[ext_resource path="res://prefabs/circular_light_occluder.tscn" type="PackedScene" id=8]
[ext_resource path="res://prefabs/catcher.tscn" type="PackedScene" id=9]
[ext_resource path="res://prefabs/custom_theme.tscn" type="PackedScene" id=10]
[ext_resource path="res://scripts/UI.gd" type="Script" id=11]
[ext_resource path="res://prefabs/bg.tscn" type="PackedScene" id=12]

[sub_resource type="GDScript" id=4]
script/source = "tool
extends OccluderPolygon2D

var points:PoolVector2Array = [
Vector2(1.0, 0.0),
Vector2(0.9510565982955543, 0.30901674200355006),
Vector2(0.8090173063230227, 0.5877848229325425),
Vector2(0.5877858963320586, 0.8090165264524072),
Vector2(0.30901800386031925, 0.9510561882928809),
Vector2(1.3267948966775328e-06, 0.9999999999991198),
Vector2(-0.3090154801462369, 0.9510570082965535),
Vector2(-0.5877837495319916, 0.8090180861922142),
Vector2(-0.8090157465803675, 0.58778696973054),
Vector2(-0.9510557782885333, 0.3090192657165443),
Vector2(-0.9999999999964793, 2.65358979335273e-06),
Vector2(-0.9510574182958785, -0.30901421828837966),
Vector2(-0.8090188660599813, -0.5877826761304061),
Vector2(-0.5877880431279868, -0.8090149667069033),
Vector2(-0.30902052757222587, -0.9510553682825112),
Vector2(0, -1),
Vector2(0.3090129564299786, -0.9510578282935293),
Vector2(0.587781602727786, -0.8090196459263242),
Vector2(0.8090141868320155, -0.5877891165243982),
Vector2(0.9510549582748153, -0.3090217894273625),
]

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	#poly.draw_circle(Vector2(0,0), 50, Vector3(1,0,0))
	if Engine.editor_hint:
		self.occluder.set_polygon(points)
	pass # Replace with function body.
"

[sub_resource type="OccluderPolygon2D" id=5]
polygon = PoolVector2Array( 30, 0, 27.4064, 12.2021, 20.0739, 22.2943, 9.27051, 28.5317, -3.13585, 29.8357, -15, 25.9808, -24.2705, 17.6336, -29.3444, 6.23735, -29.3444, -6.23735, -24.2705, -17.6336, -15, -25.9808, -3.13585, -29.8357, 9.27051, -28.5317, 20.0739, -22.2943, 27.4064, -12.2021 )
script = SubResource( 4 )

[sub_resource type="OccluderPolygon2D" id=3]
resource_local_to_scene = true
polygon = PoolVector2Array( 30, 0, 27.4064, 12.2021, 20.0739, 22.2943, 9.27051, 28.5317, -3.13585, 29.8357, -15, 25.9808, -24.2705, 17.6336, -29.3444, 6.23735, -29.3444, -6.23735, -24.2705, -17.6336, -15, -25.9808, -3.13585, -29.8357, 9.27051, -28.5317, 20.0739, -22.2943, 27.4064, -12.2021 )

[sub_resource type="OccluderPolygon2D" id=6]
resource_local_to_scene = true
polygon = PoolVector2Array( 30, 0, 27.4064, 12.2021, 20.0739, 22.2943, 9.27051, 28.5317, -3.13585, 29.8357, -15, 25.9808, -24.2705, 17.6336, -29.3444, 6.23735, -29.3444, -6.23735, -24.2705, -17.6336, -15, -25.9808, -3.13585, -29.8357, 9.27051, -28.5317, 20.0739, -22.2943, 27.4064, -12.2021 )

[sub_resource type="OccluderPolygon2D" id=2]
resource_local_to_scene = true
polygon = PoolVector2Array( 30, 0, 27.4064, 12.2021, 20.0739, 22.2943, 9.27051, 28.5317, -3.13585, 29.8357, -15, 25.9808, -24.2705, 17.6336, -29.3444, 6.23735, -29.3444, -6.23735, -24.2705, -17.6336, -15, -25.9808, -3.13585, -29.8357, 9.27051, -28.5317, 20.0739, -22.2943, 27.4064, -12.2021 )

[sub_resource type="OccluderPolygon2D" id=1]
resource_local_to_scene = true
polygon = PoolVector2Array( 30, 0, 27.4064, 12.2021, 20.0739, 22.2943, 9.27051, 28.5317, -3.13585, 29.8357, -15, 25.9808, -24.2705, 17.6336, -29.3444, 6.23735, -29.3444, -6.23735, -24.2705, -17.6336, -15, -25.9808, -3.13585, -29.8357, 9.27051, -28.5317, 20.0739, -22.2943, 27.4064, -12.2021 )

[node name="level" type="Node2D"]
script = ExtResource( 1 )
shot_speed = 800.0
shot_gravity = 600.0
shot_bounciness = 0.78

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 0, 1 )
current = true
zoom = Vector2( 2, 2 )
script = ExtResource( 3 )

[node name="gun" parent="." instance=ExtResource( 2 )]
position = Vector2( 0, -331 )
z_index = 1

[node name="l_wall" parent="." instance=ExtResource( 4 )]
position = Vector2( -1018, 581 )
scale = Vector2( 1, 1200 )
z_index = 1
flip_h = true

[node name="r_wall" parent="." instance=ExtResource( 4 )]
position = Vector2( 1018, 580 )
scale = Vector2( 1, 1200 )
z_index = 1

[node name="l_wall2" parent="." instance=ExtResource( 4 )]
position = Vector2( -1286, -567 )
rotation = 1.57116
scale = Vector2( 1, 3000 )
z_index = 1
flip_h = true

[node name="pegs" type="Node2D" parent="."]
z_index = 1
script = ExtResource( 6 )

[node name="Node2D2" parent="pegs" instance=ExtResource( 7 )]
position = Vector2( 850, 245 )
rotation = 1.5708
num_nodes = 18
resource = ExtResource( 5 )

[node name="Node2D5" parent="pegs" instance=ExtResource( 7 )]
position = Vector2( 850, 445 )
rotation = 1.5708
num_nodes = 18
resource = ExtResource( 5 )

[node name="Node2D3" parent="pegs" instance=ExtResource( 7 )]
position = Vector2( 800, 145 )
rotation = 1.5708
num_nodes = 18
resource = ExtResource( 5 )

[node name="Node2D4" parent="pegs" instance=ExtResource( 7 )]
position = Vector2( 800, 345 )
rotation = 1.5708
num_nodes = 18
resource = ExtResource( 5 )

[node name="Node2D" parent="pegs" instance=ExtResource( 7 )]
position = Vector2( 842, 39 )
rotation = 1.5708
num_nodes = 18
resource = ExtResource( 5 )

[node name="UI" type="Node2D" parent="."]
show_behind_parent = true
z_index = 2
script = ExtResource( 11 )
label_template = ExtResource( 10 )

[node name="Tween" type="Tween" parent="UI"]

[node name="ammo" parent="UI" instance=ExtResource( 7 )]
position = Vector2( -660, -512 )
rotation = -1.5708
num_nodes = 20
padding = 66

[node name="catcher" parent="." instance=ExtResource( 9 )]
position = Vector2( -1, 564 )
scale = Vector2( 3, 1 )
z_index = 1

[node name="LightOccluder2D" parent="catcher" instance=ExtResource( 8 )]
occluder = SubResource( 5 )

[node name="LightOccluder2D" parent="catcher" instance=ExtResource( 8 )]
occluder = SubResource( 3 )

[node name="LightOccluder2D" parent="catcher" instance=ExtResource( 8 )]
occluder = SubResource( 6 )

[node name="LightOccluder2D" parent="catcher" instance=ExtResource( 8 )]
occluder = SubResource( 2 )

[node name="LightOccluder2D" parent="catcher" instance=ExtResource( 8 )]
occluder = SubResource( 1 )

[node name="Sprite2" parent="." instance=ExtResource( 12 )]
position = Vector2( 5, 666 )
scale = Vector2( 1, 1500 )

[connection signal="tween_completed" from="UI/Tween" to="UI" method="_on_Tween_tween_completed"]
